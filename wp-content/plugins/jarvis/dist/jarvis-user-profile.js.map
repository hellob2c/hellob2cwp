{"version":3,"sources":["jarvis-user-profile.js"],"names":["Jarvis","UserProfile","$","_class","options","_this","this","opt","_classCallCheck","version","jarvisUri","hasOwnProperty","document","getElementById","hotKey","addEventListener","e","key","match","preventDefault","hotKeySelect","select","jarvisThemeCss","setAttribute","href","jarvisThemeSelect","querySelector","scheme","value","changeScheme","on","matchColorScheme","_createClass","themeOption","concat","getAttribute","indexOf","jQuery"],"mappings":";;;;;;;mZAAAA,OAAOC,YAAgB,SAAUC,GAEhC,OAAA,WACC,SAAAC,EAAaC,GAAU,IAAAC,EAAAC,KAAvB,IAAA,IAAAC,KAAuBC,gBAAAF,KAAAH,GAEtBG,KAAKF,QAAU,CACdK,QAAS,GACTC,UAAW,6BAJbN,EAAuBA,EAAAO,eAAAJ,KASpBD,KAAKF,QAASG,GAAQH,EAASG,IAPlB,GACdE,KAAAA,OAASG,SADKC,eAAA,iBAAfP,KAAAQ,OAAA,CAcCR,KAAKQ,OAAOC,iBAAkB,UAAW,SAACC,GATtCA,EAAAC,IAALC,MAAgBd,qCACfY,EAAAG,mBAKD,IAAAC,EAAeR,WAWbP,EAAKS,OAAOO,UAPZf,KAAAQ,OAAQC,iBAAW,QAAAK,GAClBJ,KAAAA,OAAEG,iBAAF,QAAAC,GAGDd,KAAAgB,eALDV,SAAAC,eAAA,uBAgBIP,KAAKgB,gBATThB,KAAAgB,eAAkBC,aAAZH,YAAed,KAAMgB,eAAAE,MAa5BlB,KAAKmB,kBAAoBb,SAASc,cAAc,+BAR/CpB,KAAKQ,mBACLR,KAAAmB,kBAAAV,iBAAA,SAAA,WAWC,IAAIY,EAEHA,EAXHtB,EAAKiB,mBAWOV,SAASc,cAAc,6CAA6CE,MAT1EN,EAAAA,kBAAeC,MAGrBlB,EAAAwB,aAAKJ,KAIHvB,EAAA,iBAAA4B,GAAA,oBAAA,gBAAA,SAAAd,GAYIX,EAAK0B,oBAXT1B,EAAAwB,aAAUE,EAAAA,cAAqBL,cAAA,uBAAAE,SA1CnC,OAAAI,aAAA7B,EAAA,CAAA,CAAAc,IAAA,eAAAW,MAAA,SA2DeD,GAXX,GAAArB,KAAAgB,eAAmBK,CACnB,IAAAM,EATD3B,KAAAmB,kBAAAC,cAAA,iBAAAQ,OAAAP,EAAA,OAUAM,IAaC3B,KAAKgB,eAAeE,KAAOS,EAAYE,aAAa,gBA/DxD,CAAAlB,IAAA,mBAAAW,MAAA,WAyDE,OAAA,EAAA,CAAA,GAAA,MAAAQ,QAAA9B,KAAAmB,kBAAAG,WAzDFzB,EAAA,GAFsB,CAEtBkC","file":"jarvis-user-profile.js","sourcesContent":["Jarvis.UserProfile = ( function( $ ) {\n\n\treturn class {\n\t\tconstructor( options ) {\n\n\t\t\tthis.options = {\n\t\t\t\tversion: '',\n\t\t\t\tjarvisUri: '/wp-content/themes/jarvis',\n\t\t\t};\n\n\t\t\tfor( let opt in options ) {\n\t\t\t\tif ( options.hasOwnProperty( opt ) ) {\n\t\t\t\t\tthis.options[ opt ] = options[ opt ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hotKey  = document.getElementById('jarvis_hotkey');\n\n\t\t\tif ( this.hotKey ) {\n\t\t\t\tthis.hotKey.addEventListener( 'keydown', (e) => {\n\t\t\t\t\tif ( ! e.key.match(/^[a-z0-9\\;\\\\\\|\\=\\,\\-\\.\\/\\`\\[\\]]$/) ) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tconst hotKeySelect = () => {\n\t\t\t\t\tthis.hotKey.select();\n\t\t\t\t}\n\n\t\t\t\tthis.hotKey.addEventListener('focus', hotKeySelect);\n\t\t\t\tthis.hotKey.addEventListener('keyup', hotKeySelect);\n\t\t\t}\n\n\t\t\tthis.jarvisThemeCss = document.getElementById('wp-jarvis-theme-css');\n\t\t\tif ( this.jarvisThemeCss ) {\n\t\t\t\tthis.jarvisThemeCss.setAttribute('data-href', this.jarvisThemeCss.href);\n\t\t\t}\n\n\t\t\tthis.jarvisThemeSelect = document.querySelector('select[name=\"jarvis_theme\"]');\n\n\t\t\tif ( this.jarvisThemeSelect ) {\n\t\t\t\tthis.jarvisThemeSelect.addEventListener( 'change', () => {\n\t\t\t\t\tlet scheme;\n\t\t\t\t\tif ( this.matchColorScheme() ) {\n\t\t\t\t\t\tscheme = document.querySelector('#color-picker input[type=\"radio\"]:checked').value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscheme = this.jarvisThemeSelect.value\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.changeScheme( scheme );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#color-picker').on( 'click.colorpicker', '.color-option', (e) => {\n\t\t\t\tif ( this.matchColorScheme() ) {\n\t\t\t\t\tthis.changeScheme( e.currentTarget.querySelector( 'input[type=\"radio\"]' ).value );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tchangeScheme( scheme ) {\n\t\t\tif ( this.jarvisThemeCss ) {\n\t\t\t\tlet themeOption = this.jarvisThemeSelect.querySelector( `option[value=\"${scheme}\"]` );\n\t\t\t\tif ( themeOption ) {\n\t\t\t\t\tthis.jarvisThemeCss.href = themeOption.getAttribute('data-uri');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmatchColorScheme() {\n\t\t\treturn [ '', 'wp' ].indexOf( this.jarvisThemeSelect.value ) > -1;\n\t\t}\n\t}\n\n})( jQuery );\n"]}